  {
    "id": "<%=device.id.as_json%>",
    "uri": "<%=device.uri%>",
    "name": "<%=device.name%>",
    "created_from": "<%=device.created_from%>",
    "type": { "uri": "<%=device.type_uri%>", "name": "<%=device.type_name%>" },
    "created_at": "<%=device.created_at%>",
    "updated_at": "<%=device.updated_at%>",
    "properties": [ <%=render :partial => "/devices/device_properties",
                              :locals => { connections: device.device_properties } %>    ],
    "functions": [ <%=render :partial => "/devices/device_functions",
                            :locals => { connections: device.device_functions } %>    ],
    "physical_device": {<%= render :partial => "devices/device_physical",
                                  :locals => { connection: device.device_physical } %>  }
  }
